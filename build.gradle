group 'com.matsjonas.rps'
version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'org.akhikhl.gretty'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile 'org.glassfish.jersey.core:jersey-client:2.26-b03'

    compile 'org.glassfish.jersey.containers:jersey-container-servlet:2.26-b03'
    compile 'org.glassfish.jersey.media:jersey-media-json-jackson:2.26-b03'
    compile 'org.apache.commons:commons-lang3:3.5'
}

buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath 'org.akhikhl.gretty:gretty:+'
    }
}

test {
    exclude '**/*IntegrationTest*'
}

task integrationTest(type: Test) {
    include '**/*IntegrationTest*'
    group = 'verification'
}

check {
    dependsOn integrationTest
}

gretty {
    httpPort = 8081
    contextPath = 'rps'
    servletContainer = 'jetty9'
}
